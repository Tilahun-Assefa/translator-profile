import{a as j}from"./chunk-XX7KIRK7.js";import"./chunk-ZNGF2SSX.js";import{a as T,c as F,e as w,f as A,j as B,m as D,n as N,o as O,s as Q,t as $}from"./chunk-LMGMRV5S.js";import{Cb as n,Db as m,Eb as h,Ia as r,Ja as C,Kb as s,Lb as f,Mb as v,Sa as x,Sb as E,Vb as P,gb as d,hc as q,jc as M,kc as b,lb as _,lc as I,nb as g,ob as S,pb as e,qb as t,tb as y,ua as c}from"./chunk-T46RF4ED.js";var V=(p,l)=>l.id;function L(p,l){if(p&1&&(e(0,"div",0)(1,"span"),n(2),t(),e(3,"span"),n(4),s(5,"currency"),t()()),p&2){let i=l.$implicit;r(2),m(i.type),r(2),m(f(5,2,i.price))}}function R(p,l){if(p&1&&(e(0,"option",6),n(1),t()),p&2){let i=l.$implicit;d("value",i),r(),m(i)}}var Y=(()=>{class p{constructor(i){this.cartService=i,this.price=new w(""),this.quantity=c(1),this.qtyAvailable=c([1,2,3,4]),this.selectedShippingCost=c({id:1,type:"Port",price:70}),this.costs=c([]),this.exPrice=E(()=>this.selectedShippingCost().price*this.quantity()),this.qtyEffect=P(()=>console.log("Latest quantity",this.quantity())),console.log("constructor",this.quantity())}ngOnInit(){this.shippingCosts=this.cartService.getShippingPrices()}onChangeSelectedQuantity(i){this.quantity.update(o=>o=i)}onChangeSelectedPrice(i){this.selectedShippingCost.update(o=>({id:o.id,type:o.type,price:i}))}static{this.\u0275fac=function(o){return new(o||p)(C(j))}}static{this.\u0275cmp=x({type:p,selectors:[["app-shipping"]],decls:29,vars:13,consts:[[1,"shipping-item"],["for","price"],["id","price","type","text",3,"change","formControl"],["for","quantity"],[3,"change","ngModel"],["disabled","","selected","","value",""],[3,"value"]],template:function(o,a){o&1&&(e(0,"h3"),n(1,"Shipping Prices"),t(),g(2,L,6,4,"div",0,V),s(4,"async"),e(5,"div")(6,"h1"),n(7,"Select Price"),t(),e(8,"label",1),n(9,"Price: "),t(),e(10,"input",2),y("change",function(u){return a.onChangeSelectedPrice(u.target.value)}),t()(),e(11,"div")(12,"h1"),n(13,"Select Quantity"),t(),e(14,"label",3),n(15,"Quantity: "),t(),e(16,"select",4),y("change",function(u){return a.onChangeSelectedQuantity(u.target.value)}),e(17,"option",5),n(18,"--select a quantity--"),t(),g(19,R,2,2,"option",6,_),t()(),e(21,"div"),n(22),t(),e(23,"div"),n(24),s(25,"number"),t(),e(26,"div"),n(27),s(28,"number"),t()),o&2&&(r(2),S(f(4,5,a.shippingCosts)),r(8),d("formControl",a.price),r(6),d("ngModel",a.quantity()),r(3),S(a.qtyAvailable()),r(3),h("Shipping Type: ",a.selectedShippingCost().type,""),r(2),h("Price: ",v(25,7,a.selectedShippingCost().price,"1.2-2"),""),r(3),h("Total Price: ",v(28,10,a.exPrice(),"1.2-2"),""))},dependencies:[I,q,M,b,Q,N,O,T,D,F,A,$,B],styles:[".shipping-item[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;gap:20px;padding:20px;flex-direction:row;border-radius:10px;box-shadow:#00000029 0 10px 36px,#0000000f 0 0 0 1px;width:300px}"]})}}return p})();export{Y as ShippingComponent};
