import{a as E}from"./chunk-UOOUPAB7.js";import{d as f,f as h}from"./chunk-K6MM2NSU.js";import"./chunk-RCMLRJ4B.js";import"./chunk-F25ULYJU.js";import"./chunk-ZNGF2SSX.js";import{a as g,b as m,c as v,d as x,e as r,g as y,h as C,k as _,l as J,p as F,r as S,t as k}from"./chunk-LMGMRV5S.js";import{Cb as n,Ia as u,Sa as c,_ as l,gb as b,pb as i,qb as e,rb as a,tb as s}from"./chunk-T46RF4ED.js";var U=(()=>{class p{constructor(){this.fb=l(S),this.jobService=l(E),this.router=l(h),this.route=l(f),this.editing=!1,this.errorMessage="",this.getJobById=t=>{let o=`api/Job/${t}`;this.jobService.getOneJob(o).subscribe({next:d=>{this.updateJobForm.patchValue(d.data)},error:d=>d})},this.validateControl=t=>!!(this.updateJobForm?.get(t)?.invalid&&this.updateJobForm?.get(t)?.touched),this.hasError=(t,o)=>!!this.updateJobForm?.get(t)?.hasError(o),this.route.params.subscribe(t=>{this.editing=t.mode=="edit",this.id=t.id})}ngOnInit(){this.updateJobForm=this.fb.group({id:new r("",m.required),slottingDate:new r(new Date,m.required),partNumber:new r("",m.required),quantity:new r(1,m.required),startTime:new r(new Date,m.required),finishTime:new r(new Date,m.required),packCode:new r(""),packQty:new r(1)}),this.getJobById(this.id)}onSubmit(){if(this.updateJobForm?.valid){let t={id:this.updateJobForm.value.id,slottingDate:this.updateJobForm.value.slottingDate,partNumber:this.updateJobForm.value.partNumber,quantity:this.updateJobForm.value.quantity,startTime:this.updateJobForm.value.startTime,finishTime:this.updateJobForm.value.finishTime,packCode:this.updateJobForm.value.packCode,packQty:this.updateJobForm.value.packQty??1};this.jobService.updateJob("api/job",t)}this.updateJobForm.reset(),this.returnList()}returnList(){this.router.navigate(["/jobs"])}static{this.\u0275fac=function(o){return new(o||p)}}static{this.\u0275cmp=c({type:p,selectors:[["app-add-job"]],decls:36,vars:1,consts:[[1,"container"],["novalidate","",1,"cart-form",3,"ngSubmit","formGroup"],[1,"cart-form-row"],["for","slotting_date"],["id","slotting_date","type","datetime-local","formControlName","slottingDate",1,"input"],["for","part_no"],["id","part_no","type","text","formControlName","partNumber",1,"input"],["for","qty"],["id","qty","type","number","formControlName","quantity",1,"input"],["for","start_time"],["id","start_time","type","datetime-local","formControlName","startTime","min","06:00","max","12:20","required","",1,"input"],["for","finish_time"],["id","finish_time","type","datetime-local","formControlName","finishTime","min","06:00","max","12:20","required","",1,"input"],["for","pack_code"],["id","pack_code","type","text","formControlName","packCode",1,"input"],["for","pack_qty"],["id","pack_qty","type","number","formControlName","packQty",1,"input"],["type","submit",1,"btn"],["type","button",1,"btn",3,"click"]],template:function(o,d){o&1&&(i(0,"div",0)(1,"form",1),s("ngSubmit",function(){return d.onSubmit()}),i(2,"div",2)(3,"label",3),n(4," Date "),e(),a(5,"input",4),e(),i(6,"div",2)(7,"label",5),n(8," PartNumber "),e(),a(9,"input",6),e(),i(10,"div")(11,"label",7),n(12," Quantity "),e(),a(13,"input",8),e(),i(14,"div",2)(15,"label",9),n(16," StartTime "),e(),a(17,"input",10),e(),i(18,"div",2)(19,"label",11),n(20," FinishTime "),e(),a(21,"input",12),e(),i(22,"div",2)(23,"label",13),n(24," PackCode "),e(),a(25,"input",14),e(),i(26,"div",2)(27,"label",15),n(28," No of Pieces in Pack "),e(),a(29,"input",16),e(),i(30,"div",2)(31,"button",17),n(32,"Update"),e()()(),i(33,"div",2)(34,"button",18),s("click",function(){return d.returnList()}),n(35,"Cancel"),e()()()),o&2&&(u(),b("formGroup",d.updateJobForm))},dependencies:[k,y,g,C,v,x,F,_,J],styles:[".container[_ngcontent-%COMP%]{position:fixed;left:50%;top:10%;height:60%;width:600px;transform:translate(-50%);background-color:#fff;display:flex;flex-direction:column;padding:20px;background-size:cover;border-radius:10px;box-shadow:0 4px 8px #0000004d;opacity:1;transition:all .7s}.btn[_ngcontent-%COMP%]{padding:5px 8px;margin:5px;width:200px;border-radius:5px;cursor:pointer;background-color:green;border:none;font-size:16px}.btn[_ngcontent-%COMP%]:hover{filter:brightness(.8)}label[_ngcontent-%COMP%]{color:#8a2be2;font-family:sans-serif;margin:10px;font-size:16px}.input[_ngcontent-%COMP%]{border:1px solid;padding:10px;margin:10px 0;font-size:16px;text-align:center}.input[_ngcontent-%COMP%]::placeholder{color:#d3d3d3}"]})}}return p})();export{U as UpdateJobComponent};
