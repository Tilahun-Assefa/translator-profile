import{a as u,b as c}from"./chunk-RCMLRJ4B.js";import{b as d}from"./chunk-I5U74EJ7.js";import{a as n,d as p}from"./chunk-KXDR3QM3.js";import{Sb as r,U as h,_ as a,s as i}from"./chunk-KSU6WVC3.js";var C=(()=>{class o{constructor(){this.http=a(p),this.errorMessage="",this.urlAddress=u.urlAddress,this.jobResource=d({loader:()=>this.http.get(this.urlAddress+"/api/Job/GetAll").pipe(i(e=>e.data))}),this.jobs=r(()=>this.jobResource.value()??[]),this.error=r(()=>this.jobResource.error()),this.loadingErrorMessage=r(()=>c(this.error(),"Job")),this.errorStatus=r(()=>this.error().status),this.isLoading=this.jobResource.isLoading,this.find=(e,t)=>r(()=>this.jobs().filter(l=>!e||l.partNumber?.includes(e))),this.getOneJob=e=>this.http.get(this.createCompleteRoute(e,this.urlAddress)),this.createJob=(e,t)=>{this.http.post(this.createCompleteRoute(e,this.urlAddress),t,this.generateHeaders()).pipe(i(s=>s.data)).subscribe({next:s=>{this.jobs=r(()=>s??[])},error:s=>{this.errorMessage=s.message}})},this.updateJob=(e,t)=>this.http.put(this.createCompleteRoute(e,this.urlAddress),t,this.generateHeaders()),this.deleteJob=e=>this.http.delete(this.createCompleteRoute(e,this.urlAddress)),this.createCompleteRoute=(e,t)=>`${t}/${e}`,this.generateHeaders=()=>({headers:new n({"Content-Type":"application/json"})})}static{this.\u0275fac=function(t){return new(t||o)}}static{this.\u0275prov=h({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})();export{C as a};
