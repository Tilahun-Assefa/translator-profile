import{a as A}from"./chunk-UOOUPAB7.js";import{f as x}from"./chunk-K6MM2NSU.js";import"./chunk-RCMLRJ4B.js";import{a as D}from"./chunk-F25ULYJU.js";import"./chunk-ZNGF2SSX.js";import{a as I,c as F,e as S,i as $,j as L,t as N}from"./chunk-LMGMRV5S.js";import{A as P,Cb as o,Db as j,Eb as l,Ia as a,Kb as C,Mb as g,Sa as f,Sb as _,Vb as q,Xa as y,_ as u,d as E,gb as s,ic as O,kb as v,lb as T,nb as M,ob as k,pb as e,qb as t,rb as w,s as J,tb as d,ua as b,ub as h}from"./chunk-T46RF4ED.js";var B=(()=>{class n{constructor(){this.router=u(x),this.redirectToUpdatePage=p=>{let r=`/update-job/${p}`;this.router.navigate([r])}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=f({type:n,selectors:[["app-job-card"]],inputs:{job:"job",index:"index"},decls:20,vars:16,consts:[[1,"job-card"],[1,"profile-name"],[1,"job-headline"],[1,"profile-description"],["type","button","id","update",1,"btn","btn-success",3,"click"]],template:function(r,i){r&1&&(e(0,"article",0)(1,"p",1),o(2),C(3,"date"),t(),e(4,"p",2),o(5),t(),e(6,"p",3),o(7),t(),e(8,"p"),o(9),C(10,"date"),t(),e(11,"p"),o(12),C(13,"date"),t(),e(14,"p"),o(15),t(),e(16,"p"),o(17),t(),e(18,"button",4),d("click",function(){return i.redirectToUpdatePage(i.job.id)}),o(19,"Update"),t()()),r&2&&(a(2),l("Date: ",g(3,7,i.job.slottingDate,"mediumDate"),""),a(3),l("Part Number: ",i.job.partNumber,""),a(2),l("Quantity: ",i.job.quantity,""),a(2),l("Start Time: ",g(10,10,i.job.startTime,"short"),""),a(3),l("Finish Time: ",g(13,13,i.job.finishTime,"short"),""),a(3),l("Pack Code: ",i.job.packCode,""),a(2),l("Pieces in Pack: ",i.job.packQty,""))},dependencies:[O],styles:[".job-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;border-radius:10px;padding:15px;box-shadow:#00000029 0 10px 36px,#0000000f 0 0 0 1px;width:300px}.job-img[_ngcontent-%COMP%]{border-radius:10px 10px 0 0;width:300px}.job-description[_ngcontent-%COMP%], .job-headline[_ngcontent-%COMP%], .job-learn-more[_ngcontent-%COMP%]{padding:10px}.job-headline[_ngcontent-%COMP%]{font-size:14pt;font-weight:700}"]})}}return n})();function R(n,c){n&1&&(e(0,"div"),o(1,"...Loading products"),t())}function U(n,c){if(n&1&&(e(0,"div",11),o(1),t()),n&2){let p=h();a(),l("An error occured: ",p.loadingErrorMessage(),"")}}function V(n,c){if(n&1&&w(0,"app-job-card",15),n&2){let p=c.$implicit,r=c.$index;s("index",r)("job",p)}}function z(n,c){if(n&1&&(e(0,"section",12)(1,"h2",13),o(2,"Job List"),t(),e(3,"article",14),M(4,V,1,2,"app-job-card",15,T),t()()),n&2){let p=h(2);a(4),k(p.filteredJobs())}}function W(n,c){if(n&1&&y(0,z,6,0,"section",12),n&2){let p=h();v(p.filteredJobs().length>0?0:-1)}}var de=(()=>{class n{constructor(){this.jobService=u(A),this.router=u(x),this.queryCtl=new S(""),this.typeCtl=new S(""),this.query=b(""),this.type=b("all"),this.filteredJobs=b([]),this.isLoading=this.jobService.isLoading,this.loadingErrorMessage=this.jobService.loadingErrorMessage,this.jobsCount=_(()=>`Jobs found ${this.filteredJobs().length}`),this.jobSearchParameters=_(()=>`Query ${this.query()} with type ${this.type()}`),this.now=D(P(1e3).pipe(J(()=>new Date)),{initialValue:new Date}),this.curTime=_(()=>this.now()?.toLocaleTimeString()),q(()=>{let p=this.jobService.find(this.query(),this.type());this.filteredJobs.set(p())})}search(){return E(this,null,function*(){this.query.update(r=>r=this.queryCtl.value),this.type.update(r=>r=this.typeCtl.value);let p=yield this.jobService.find(this.query(),this.type());this.filteredJobs.update(r=>r=p())})}createJob(){this.router.navigate(["/add-job"])}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=f({type:n,selectors:[["app-job"]],decls:30,vars:8,consts:[["type","button",1,"button_1",3,"click"],["id","query"],[1,"container"],["for","query"],["type","text","id","query",3,"input","formControl"],["type","radio","id","partnumber","value","partNumber","checked","",3,"change","formControl"],["for","partnumber"],["type","radio","id","workdate","value","date",3,"change","formControl"],["for","workdate"],["type","radio","id","packcode","value","packCode",3,"change","formControl"],["for","packcode"],[2,"color","red"],[1,"job-section"],[1,"profile-header"],[1,"job-list"],[3,"index","job"]],template:function(r,i){r&1&&(e(0,"div")(1,"p"),o(2),t(),e(3,"p"),o(4),t(),e(5,"p"),o(6),t()(),e(7,"button",0),d("click",function(){return i.createJob()}),o(8,"Add Job"),t(),e(9,"section",1)(10,"div",2)(11,"label",3),o(12,"Query: "),t(),e(13,"input",4),d("input",function(){return i.search()}),t()(),e(14,"fieldset")(15,"legend"),o(16,"Please select your preferred filter type:"),t(),e(17,"div")(18,"input",5),d("change",function(){return i.search()}),t(),e(19,"label",6),o(20,"Part Number"),t(),e(21,"input",7),d("change",function(){return i.search()}),t(),e(22,"label",8),o(23,"Work Date"),t(),e(24,"input",9),d("change",function(){return i.search()}),t(),e(25,"label",10),o(26,"Pack Code"),t()()()(),y(27,R,2,0,"div")(28,U,2,1,"div",11)(29,W,1,1)),r&2&&(a(2),j(i.jobsCount()),a(2),j(i.jobSearchParameters()),a(2),l("Current Time: ",i.curTime(),""),a(7),s("formControl",i.queryCtl),a(5),s("formControl",i.typeCtl),a(3),s("formControl",i.typeCtl),a(3),s("formControl",i.typeCtl),a(3),v(i.isLoading()?27:i.loadingErrorMessage()?28:29))},dependencies:[N,I,$,F,L,B],styles:[".container[_ngcontent-%COMP%]{width:80%;margin:auto;overflow:hidden}.job-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;height:100vh}.job-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:20px;padding:10px}.job-header[_ngcontent-%COMP%]{font-size:36px;text-align:center;padding:10px}.button_1[_ngcontent-%COMP%]{height:38px;background:#e8491d;border:0;padding-left:20px;padding-right:20px;margin:10px;color:#fff}#query[_ngcontent-%COMP%]{padding:15px;color:#000;background:#b4c7d3}#query[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{padding:4px;height:25px;width:250px;background:#fff}"]})}}return n})();export{de as JobComponent};
