<div class="card">
  <h3 class="card-header">Login Form</h3>
  <div class="card-body col-md-4 offset-md-1">
    <form [formGroup]="loginForm" (ngSubmit)="onSubmit()">
      <div class="form-group">
        <label for="email" class="col-form-label">Email: </label>
        <input id="email" type="email" formControlName="username" class="form-control"
          [ngClass]="{'is-invalid': submitted && email?.errors}" required minlength="3" />
        <div class="alert alert-danger">
          @if (email?.invalid && (email?.dirty|| email?.touched)) {
          <div>
            @if (submitted && email?.errors?.['required']) {
            <div>Email is required</div>
            }
          </div>
          <div>
            @if (submitted && email?.errors?.['minlength']) {
            <div>The email should be more than 3 characters</div>
            }
          </div>
          }
        </div>
      </div>
      <div class="form-group">
        <label for="password" class="col-form-label ">Password:</label>
        <input id="password" type="text" formControlName="password" class="form-control"
          [ngClass]="{'is-invalid': submitted && password?.errors }" />
        <div>
          @if (submitted && email?.errors?.['required']) {
          <div>Password is required</div>
          }
        </div>
      </div>
      <button type="submit" [disabled]="loading" class="btn btn-primary mb-2"> Login </button>
      @if (errorMessage) {
      <div class="alert alert-danger mt-3 mb-0" role="alert">{{errorMessage}}</div>
      }
    </form>
  </div>
</div>